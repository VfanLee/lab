<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      body {
        margin: 0;
      }
      #canvas {
        display: block;
      }
      .code {
        margin: 0;
        position: fixed;
        top: 16px;
        left: 16px;
        font-size: 20px;
        user-select: none;
      }
    </style>
  </head>
  <body>
    <!-- <p><a href="https://tinyurl.com/html5bezier">“三次贝塞尔曲线” 可视化</a></p> -->
    <pre class="code">
const x1 = 600
const y1 = 600
const cp1x = 700
const cp1y = 200
const cp2x = 200
const cp2y = 300
const x2 = 300
const y2 = 600
ctx.beginPath()
ctx.moveTo(x1, y1)
ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x2, y2)
ctx.stroke()
    </pre>
    <canvas id="canvas"></canvas>

    <script>
      /**
       * @type{HTMLCanvasElement}
       */
      const canvas = document.querySelector('#canvas')
      canvas.width = window.innerWidth
      canvas.height = window.innerHeight

      const ctx = canvas.getContext('2d')

      const x1 = 600
      const y1 = 600
      const cp1x = 700
      const cp1y = 200
      const cp2x = 200
      const cp2y = 300
      const x2 = 300
      const y2 = 600
      ctx.beginPath()
      ctx.moveTo(x1, y1)
      ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x2, y2)
      ctx.stroke()

      // 辅助
      ctx.font = '16px 楷体'
      ctx.textBaseline = 'top'
      ctx.setLineDash([6])
      // 辅助线
      ctx.beginPath()
      ctx.moveTo(x1, y1)
      ctx.lineTo(cp1x, cp1y)
      ctx.stroke()
      ctx.beginPath()
      ctx.moveTo(x2, y2)
      ctx.lineTo(cp2x, cp2y)
      ctx.stroke()
      // 辅助点
      ctx.fillRect(x1, y1, 10, 10)
      ctx.fillText(`(x1, y1)(${x1}, ${y1})`, x1 + 16, y1 + 16)
      ctx.fillRect(x2, y2, 10, 10)
      ctx.fillText(`(x2, y2)(${x2}, ${y2})`, x2 + 16, y2 + 16)
      ctx.fillText(`(x2, y2)(${x2}, ${y2})`, x2 + 16, y2 + 16)
      ctx.fillRect(cp1x, cp1y, 10, 10)
      ctx.fillText(`(cp1x, cp1y)(${cp1x}, ${cp1y})`, cp1x + 16, cp1y + 16)
      ctx.fillRect(cp2x, cp2y, 10, 10)
      ctx.fillText(`(cp2x, cp2y)(${cp2x}, ${cp2y})`, cp2x + 16, cp2y + 16)
    </script>
  </body>
</html>
